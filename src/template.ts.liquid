import { Table } from "ts-sql-query/Table";
import { DBConnection } from "{{dbConnectionSource}}";

export class {{className}} extends Table<DBConnection, '{{className}}'> {
    {%- if primaryKey %}
    {%- if primaryKey.isAutoGenerated %}
    {{primaryKey.name}} = this.autoGeneratedPrimaryKey('{{primaryKey.columnName}}', '{{primaryKey.columnType}}');
{% else %}
    {{primaryKey.name}} = this.primaryKey('{{primaryKey.columnName}}', '{{primaryKey.columnType}}');
    {% endif %}
    {% endif %}
    {%- for field in fields %}
    {%- if field.isOptional -%}
    {{field.name}} = this.optionalColumn('{{field.columnName}}', '{{field.columnType}}');
    {% else -%}
    {{field.name}} = this.column('{{field.columnName}}', '{{field.columnType}}');
    {% endif -%}
    {% endfor %}
    constructor() {
        super('{{tableName}}')
    }
}
